"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[385],{4385:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a=n(2791),r=n(6916),c=function(e){return e.contacts.items},s=function(e){return e.contacts.isLoading},o=function(e){return e.contacts.error},l=function(e){return e.filter},i=(0,r.P1)([l,c],(function(e,t){return function(){var n=e.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}().sort((function(e,t){return e.name.localeCompare(t.name)}))})),m=n(5705),u=n(6727),d=n(9434),h=n(208),f=n(643),x=n(1686),_="ContactForm_formWrapper__ixY4D",j="ContactForm_formTitle__N6O4g",b="ContactForm_form__dhl+T",p="ContactForm_formInputGroup__IYnXZ",v="ContactForm_formInput__GszVU",C="ContactForm_error__C1smZ",N=n(3307),g=n(184),w=function(){var e=(0,d.v9)(c),t=(0,d.v9)(s),n=(0,d.v9)(o),a=(0,d.I0)(),r=(0,u.Ry)({name:(0,u.Z_)().required(),number:(0,u.Rx)().required().positive().integer()});return(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("h2",{className:j,children:"PhoneBook"}),(0,g.jsx)(m.J9,{initialValues:{name:"",number:""},onSubmit:function(t,n){var r=n.resetForm,c=t.name.toLowerCase();e.find((function(e){return e.name.toLowerCase()===c}))?x.Notify.warning("".concat(t.name," is already in contacts.")):(a((0,h.uK)({name:t.name,number:t.number})),r())},validationSchema:r,children:(0,g.jsxs)(m.l0,{className:b,autoComplete:"off",children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(m.gN,{className:v,name:"name",placeholder:"name"}),(0,g.jsx)(m.Bc,{className:C,component:"div",name:"name"})]}),(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(m.gN,{className:v,name:"number",placeholder:"number"}),(0,g.jsx)(m.Bc,{className:C,component:"div",name:"number"})]}),(0,g.jsx)(N.z,{type:"submit",children:t&&!n?(0,g.jsx)(f.g4,{height:"25",width:"116",color:"#af7b7b",ariaLabel:"three-dots-loading",visible:!0}):(0,g.jsx)(g.Fragment,{children:"Add contact"})})]})})]})},y=n(6895),L="Filter_filter__vxThR",F="Filter_formInput__XNLZn",k=function(){var e=(0,d.v9)(l),t=(0,d.v9)(i).length,n=(0,d.v9)(c).length,a=(0,d.I0)();return(0,g.jsx)("div",{className:L,children:(0,g.jsxs)("label",{children:["Find contacts by name",t!==n&&(0,g.jsxs)(g.Fragment,{children:[":\xa0",(0,g.jsx)("b",{children:t})]}),(0,g.jsx)("br",{}),(0,g.jsx)("input",{autoComplete:"off",className:F,value:e,type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return a((0,y.M)(e.currentTarget.value))}})]})})},I=n(9439),T="Contact_deleteButton__G9qkX",Z=function(e){var t=e.contact,n=e.showModal,a=e.showEditModal,r="tel:".concat(t.number);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{children:t.name}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:r,children:t.number})}),(0,g.jsx)("td",{onClick:function(){return n(t.id,t.name)},className:T,id:t.id,children:"Delete"}),(0,g.jsx)("td",{onClick:function(){return a(t.id,t.name,t.number)},className:T,id:t.id,children:"Edit"})]})},E="Modal_overlay__r63M6",z="Modal_modal__DJDMv",M=function(e){var t=e.children,n=e.modalShoudClose;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,g.jsx)("div",{className:E,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,g.jsx)("div",{className:z,children:t})})},S={form:"ContactList_form__YbZHX",title:"ContactList_title__gpugJ",contactListTable:"ContactList_contactListTable__CAdj6",label:"ContactList_label__qEmVm",inputText:"ContactList_inputText__3DgZ1"},A="",D={},q=function(){var e=(0,a.useState)(!1),t=(0,I.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(!1),s=(0,I.Z)(c,2),o=s[0],l=s[1],m=(0,a.useState)(""),u=(0,I.Z)(m,2),f=u[0],x=u[1],_=(0,d.I0)(),j=function(e,t){A=t,r(!0),x(e)},b=function(e,t,n){D={contactId:e,contactName:t,contactNumber:n},l(!0)},p=function(){r(!1),l(!1)},v=(0,d.v9)(i);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("table",{className:S.contactListTable,children:(0,g.jsx)("tbody",{children:v.map((function(e){return(0,g.jsx)("tr",{className:S.contactListItem,children:(0,g.jsx)(Z,{contact:e,showModal:j,showEditModal:b})},e.id)}))})}),n&&(0,g.jsx)(M,{modalShoudClose:p,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("p",{className:S.title,children:["Do you really want to delete",(0,g.jsx)("br",{}),A,"?"]}),(0,g.jsx)(N.z,{type:"button",onClick:function(){_((0,h.GK)(f)),p()},children:"ok"}),(0,g.jsx)(N.z,{type:"button",onClick:p,children:"cancel"})]})}),o&&(0,g.jsx)(M,{modalShoudClose:p,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("b",{children:"Editing contact"}),(0,g.jsxs)("form",{className:S.form,onSubmit:function(e){e.preventDefault();var t=e.target.elements;_((0,h.mP)({name:t.name.value,number:t.number.value,contactId:D.contactId})),t.name.value="",t.number.value="",l(!1)},autoComplete:"off",children:[(0,g.jsxs)("label",{className:S.label,children:["Name",(0,g.jsx)("input",{type:"text",name:"name",className:S.inputText,defaultValue:D.contactName})]}),(0,g.jsxs)("label",{className:S.label,children:["Number",(0,g.jsx)("input",{type:"text",name:"number",className:S.inputText,defaultValue:D.contactNumber})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)(N.z,{type:"submit",children:"save"}),(0,g.jsx)(N.z,{type:"button",onClick:p,children:"cancel"})]})]})]})})]})},B="Contacts_wrapper__s7EJR",J="Contacts_title__LxdN4";function V(){var e=(0,d.I0)(),t=(0,d.v9)(c);return(0,a.useEffect)((function(){e((0,h.yF)())}),[e]),(0,g.jsxs)("div",{className:B,children:[(0,g.jsx)(w,{}),(0,g.jsxs)("h3",{className:J,children:["Contacts: ",t.length]}),(0,g.jsx)(k,{}),(0,g.jsx)(q,{})]})}}}]);
//# sourceMappingURL=385.94ad614c.chunk.js.map