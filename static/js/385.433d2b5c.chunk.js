"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[385],{4385:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var a=n(2791),r=n(6916),c=function(e){return e.contacts.items},o=function(e){return e.contacts.isLoading},s=function(e){return e.contacts.error},l=function(e){return e.filter},i=(0,r.P1)([l,c],(function(e,t){return function(){var n=e.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().includes(n)}))}().sort((function(e,t){return e.name.localeCompare(t.name)}))})),u=n(5705),m=n(6727),d=n(9434),h=n(208),x=n(643),f=n(1686),_="ContactForm_formWrapper__ixY4D",b="ContactForm_formTitle__N6O4g",j="ContactForm_form__dhl+T",p="ContactForm_formInputGroup__IYnXZ",v="ContactForm_formInput__GszVU",N="ContactForm_button__eSwX9",C="ContactForm_error__C1smZ",g=n(184),w=function(){var e=(0,d.v9)(c),t=(0,d.v9)(o),n=(0,d.v9)(s),a=(0,d.I0)(),r=(0,m.Ry)({name:(0,m.Z_)().required(),number:(0,m.Rx)().required().positive().integer()});return(0,g.jsxs)("div",{className:_,children:[(0,g.jsx)("h2",{className:b,children:"PhoneBook"}),(0,g.jsx)(u.J9,{initialValues:{name:"",number:""},onSubmit:function(t,n){var r=n.resetForm,c=t.name.toLowerCase();e.find((function(e){return e.name.toLowerCase()===c}))?f.Notify.warning("".concat(t.name," is already in contacts.")):(a((0,h.uK)({name:t.name,number:t.number})),r())},validationSchema:r,children:(0,g.jsxs)(u.l0,{className:j,autoComplete:"on",children:[(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(u.gN,{className:v,name:"name",placeholder:"name"}),(0,g.jsx)(u.Bc,{className:C,component:"div",name:"name"})]}),(0,g.jsxs)("div",{className:p,children:[(0,g.jsx)(u.gN,{className:v,name:"number",placeholder:"number"}),(0,g.jsx)(u.Bc,{className:C,component:"div",name:"number"})]}),(0,g.jsx)("button",{className:N,type:"submit",children:t&&!n?(0,g.jsx)(x.g4,{height:"22",width:"60",color:"gray",ariaLabel:"three-dots-loading",visible:!0}):(0,g.jsx)("p",{children:"Add contact"})})]})})]})},y=n(6895),L="Filter_filter__vxThR",k="Filter_formInput__XNLZn",F=function(){var e=(0,d.v9)(l),t=(0,d.v9)(i).length,n=(0,d.v9)(c).length,a=(0,d.I0)();return(0,g.jsx)("div",{className:L,children:(0,g.jsxs)("label",{children:["Find contacts by name",t!==n&&(0,g.jsxs)(g.Fragment,{children:[":\xa0",(0,g.jsx)("b",{children:t})]}),(0,g.jsx)("br",{}),(0,g.jsx)("input",{className:k,value:e,type:"text",name:"filter",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:function(e){return a((0,y.M)(e.currentTarget.value))}})]})})},I=n(9439),T="Contact_deleteButton__G9qkX",E=function(e){var t=e.contact,n=e.showModal,a=e.showEditModal,r="tel:".concat(t.number);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("td",{children:t.name}),(0,g.jsx)("td",{children:(0,g.jsx)("a",{href:r,children:t.number})}),(0,g.jsx)("td",{onClick:function(){return n(t.id,t.name)},className:T,id:t.id,children:"Delete"}),(0,g.jsx)("td",{onClick:function(){return a(t.id,t.name,t.number)},className:T,id:t.id,children:"Edit"})]})},Z="Modal_overlay__r63M6",M="Modal_modal__DJDMv",S=function(e){var t=e.children,n=e.modalShoudClose;(0,a.useEffect)((function(){var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n]);return(0,g.jsx)("div",{className:Z,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,g.jsx)("div",{className:M,children:t})})},A={contactListTable:"ContactList_contactListTable__CAdj6",button:"ContactList_button__7kL4l",label:"ContactList_label__qEmVm",inputText:"ContactList_inputText__3DgZ1"},D="",q={},z=function(){var e=(0,a.useState)(!1),t=(0,I.Z)(e,2),n=t[0],r=t[1],c=(0,a.useState)(!1),o=(0,I.Z)(c,2),s=o[0],l=o[1],u=(0,a.useState)(""),m=(0,I.Z)(u,2),x=m[0],f=m[1],_=(0,d.I0)(),b=function(e){e&&_((0,h.GK)(x)),v()},j=function(e,t){D=t,r(!0),f(e)},p=function(e,t,n){q={contactId:e,contactName:t,contactNumber:n},l(!0)},v=function(){r(!1),l(!1)},N=(0,d.v9)(i);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("table",{className:A.contactListTable,children:(0,g.jsx)("tbody",{children:N.map((function(e){return(0,g.jsx)("tr",{className:A.contactListItem,children:(0,g.jsx)(E,{contact:e,showModal:j,showEditModal:p})},e.id)}))})}),n&&(0,g.jsx)(S,{modalShoudClose:v,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("p",{children:["Do you really want to delete",(0,g.jsx)("br",{}),D,"?"]}),(0,g.jsx)("button",{type:"button",className:A.button,onClick:function(){return b(!0)},children:"ok"}),(0,g.jsx)("button",{type:"button",className:A.button,onClick:function(){return b(!1)},children:"cancel"})]})}),s&&(0,g.jsx)(S,{modalShoudClose:v,children:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("b",{children:"Editing contact"}),(0,g.jsxs)("form",{className:A.form,onSubmit:function(e){e.preventDefault();var t=e.target.elements;_((0,h.mP)({name:t.name.value,number:t.number.value,contactId:q.contactId})),t.name.value="",t.number.value="",l(!1)},autoComplete:"off",children:[(0,g.jsxs)("label",{className:A.label,children:["Name",(0,g.jsx)("input",{type:"text",name:"name",className:A.inputText,defaultValue:q.contactName})]}),(0,g.jsxs)("label",{className:A.label,children:["Number",(0,g.jsx)("input",{type:"text",name:"number",className:A.inputText,defaultValue:q.contactNumber})]}),(0,g.jsx)("button",{type:"submit",className:A.button,children:"save"}),(0,g.jsx)("button",{type:"button",className:A.button,onClick:function(){return l(!1)},children:"cancel"})]})]})})]})},B="Contacts_wrapper__s7EJR",V="Contacts_title__LxdN4";function G(){var e=(0,d.I0)(),t=(0,d.v9)(c);return(0,a.useEffect)((function(){e((0,h.yF)())}),[e]),(0,g.jsxs)("div",{className:B,children:[(0,g.jsx)(w,{}),(0,g.jsxs)("h3",{className:V,children:["Contacts: ",t.length]}),(0,g.jsx)(F,{}),(0,g.jsx)(z,{})]})}}}]);
//# sourceMappingURL=385.433d2b5c.chunk.js.map